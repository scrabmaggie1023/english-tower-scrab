<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>Minecraft è‹±æ–‡æ–‡æ³•å¡” - å­˜æª”ç‰ˆ</title>
    <style>
        :root { --mc-green: #55ff55; --mc-grey: #c6c6c6; }
        body { background-color: #1a1a1a; color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; flex-direction: column; align-items: center; }
        #game-container { width: 600px; background-color: var(--mc-grey); border: 8px solid #555; padding: 20px; color: #333; margin-top: 20px; box-shadow: 10px 10px 0px #000; }
        .stats-bar { display: flex; justify-content: space-between; background: #333; color: var(--mc-green); padding: 5px 15px; margin-bottom: 10px; border: 3px solid #000; }
        .battle-scene { height: 180px; background: linear-gradient(#4a90e2, #87ceeb); border: 4px solid #000; display: flex; justify-content: space-around; align-items: center; position: relative; overflow: hidden; }
        .ground { position: absolute; bottom: 0; width: 100%; height: 40px; background: #567d46; border-top: 4px solid #3d5a32; }
        .character { font-size: 50px; z-index: 2; }
        .monster { font-size: 60px; z-index: 2; transition: all 0.5s; }
        .signboard { background: #8b5a2b; color: white; padding: 15px; margin: 15px 0; border: 4px solid #5d3a1a; text-align: center; font-size: 1.2em; }
        .input-area { background: #8b8b8b; padding: 20px; border: 4px inset #fff; text-align: center; }
        input { font-size: 20px; padding: 8px; width: 80%; border: 4px solid #333; background: #fff; }
        #message { margin-top: 10px; font-weight: bold; min-height: 24px; }
        .btn-reset { margin-top: 20px; background: #ff5555; color: white; border: none; padding: 5px 10px; cursor: pointer; }
    </style>
</head>
<body>

    <div id="game-container">
        <div class="stats-bar">
            <span>ç­‰ç´š (LV): <span id="lv-display">1</span></span>
            <span>é€²åº¦: <span id="progress-display">0%</span></span>
        </div>

        <div class="battle-scene">
            <div class="character"><img src="steve.gif" id="steve-img" style="width: 80px; height: auto;" alt="Steve"></div>
            <div class="monster" id="monster-img">ğŸ¦ </div>
            <div class="ground"></div>
        </div>

        <div class="signboard" id="question-text">
            è¼‰å…¥ä¸­...
        </div>

        <div class="input-area">
            <input type="text" id="answerInput" placeholder="è¼¸å…¥æ­£ç¢ºçš„å–®å­—åˆæˆå’’èª..." autocomplete="off">
            <div id="message"></div>
        </div>
        
        <button class="btn-reset" onclick="resetGame()">é‡ç½®é€²åº¦</button>
    </div>

    <script>
        // é¡Œåº«ç³»çµ±
        const levels = [
            { lv: 1, q: "Look! Steve _____ (build) a house.", ans: "is building", monster: "ğŸ¦ " },
            { lv: 2, q: "The villagers _____ (farm) at the moment.", ans: "are farming", monster: "ğŸ§‘â€ğŸŒ¾" },
            { lv: 3, q: "Listen! A creeper _____ (hiss) behind you!", ans: "is hissing", monster: "ğŸ’£" }
        ];

        let currentLv = parseInt(localStorage.getItem('mc_english_lv')) || 1;
        const input = document.getElementById('answerInput');
        const msg = document.getElementById('message');
        const monsterImg = document.getElementById('monster-img');

        function updateUI() {
            const stage = levels.find(l => l.lv === currentLv) || levels[levels.length - 1];
            document.getElementById('lv-display').innerText = currentLv;
            document.getElementById('question-text').innerText = `é¡Œç›®ï¼š${stage.q}`;
            document.getElementById('progress-display').innerText = Math.round((currentLv / levels.length) * 100) + "%";
            monsterImg.innerText = stage.monster;
            monsterImg.style.transform = "scale(1) rotate(0deg)";
            input.value = "";
            input.disabled = false;
        }

        input.addEventListener('input', function() {
            const stage = levels.find(l => l.lv === currentLv);
            if (!stage) return;

            let val = this.value.toLowerCase().trim();
            if (val === stage.ans.toLowerCase()) {
                msg.innerText = "âœ¨ åˆæˆæˆåŠŸï¼æ“Šæ•—æ€ªç‰©ï¼";
                msg.style.color = "green";
                monsterImg.style.transform = "scale(0) rotate(180deg)";
                input.disabled = true;
                
                setTimeout(() => {
                    currentLv++;
                    localStorage.setItem('mc_english_lv', currentLv);
                    if (currentLv > levels.length) {
                        alert("æ­å–œï¼ä½ å·²é€šé—œç›®å‰çš„å¡”å±¤ï¼");
                        resetGame();
                    } else {
                        msg.innerText = "";
                        updateUI();
                    }
                }, 1000);
            }
        });

        function resetGame() {
            localStorage.removeItem('mc_english_lv');
            currentLv = 1;
            updateUI();
        }

        updateUI();
    </script>
</body>

</html>

